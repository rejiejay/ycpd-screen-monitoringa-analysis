<template>
<div class="baidumap" :style="`width: ${clientWidth}px; height: ${clientHeight}px;`">
    <div id="BaiduMap" :style="`width: ${clientWidth}px; height: ${clientHeight}px;`">
    </div>
</div>
</template>

<script>

export default {
    name: 'baidumap',

	data: function data() { 
        return {
            clientWidth: document.body.offsetWidth || document.documentElement.clientWidth || window.innerWidth, // 设备的宽度
            clientHeight: document.body.offsetHeight || document.documentElement.clientHeight || window.innerHeight, // 设备高度
            
            mountBaiduMap: new BMap.Map('BaiduMap'),

            // http://ycpd.ichebaoyang.com/baseapi/Public/GetDotData
            // 后台数据
        } 
    },

	mounted: function mounted() {
        this.initBaiduMap();
    },

    methods: {
        /**
         * 初始化百度地图
         */
        initBaiduMap: function initBaiduMap() {
            this.mountBaiduMap = new BMap.Map('BaiduMap'); // 创建地图实例  
            
            this.mountBaiduMap.centerAndZoom(new BMap.Point(114.059560, 22.542860), 13); // 初始化地图，设置中心点坐标(深圳福田) 和地图级别  
            this.mountBaiduMap.enableScrollWheelZoom(true); //开启鼠标滚轮缩放
            this.mountBaiduMap.addControl(new BMap.NavigationControl({
                offset: new BMap.Size(10, 65),
            }));
            
			this.mountBaiduMap.setMapStyle({ 
                features: ["road", "water", "land"], // point（兴趣点）、road（道路）、water（河流）、land（陆地）、building（建筑物）
                style : "dark"  //设置地图风格为高端黑
            });

            this.renderMarkerPoint();
        },

        /**
         * 渲染热力图标记点
         */
        renderMarkerPoint: function renderMarkerPoint() {
            /**
             * 热力图数据
             */
            let mydata = [
                {"longitude": 114.132955, "latitude": 22.667178},{"longitude": 113.913261, "latitude": 22.553941},{"longitude": 114.06172, "latitude": 22.622358},{"longitude": 114.160256, "latitude": 22.638445},{"longitude": 113.917557, "latitude": 22.580814},{"longitude": 113.874569, "latitude": 22.668255},{"longitude": 113.993369, "latitude": 22.557483},{"longitude": 114.114882, "latitude": 22.568596},{"longitude": 113.807081, "latitude": 22.739073},{"longitude": 113.861036, "latitude": 22.567123},{"longitude": 114.133005, "latitude": 22.654439},{"longitude": 113.874429, "latitude": 22.610729},{"longitude": 114.118668, "latitude": 22.576516},{"longitude": 113.887507, "latitude": 22.598654},{"longitude": 114.23133, "latitude": 22.673639},{"longitude": 114.06172, "latitude": 22.622358},{"longitude": 114.147401, "latitude": 22.549668},{"longitude": 114.23268, "latitude": 22.683882},{"longitude": 114.035361, "latitude": 22.5652},{"longitude": 113.860662, "latitude": 22.569814},{"longitude": 114.038551, "latitude": 22.54631},{"longitude": 113.913261, "latitude": 22.553941},{"longitude": 113.841069, "latitude": 22.713306},{"longitude": 113.914074, "latitude": 22.538864},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 114.160256, "latitude": 22.638445},{"longitude": 113.915897, "latitude": 22.555628},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 114.050631, "latitude": 22.56898},{"longitude": 113.913465, "latitude": 22.554257},{"longitude": 113.873679, "latitude": 22.57942},{"longitude": 114.047391, "latitude": 22.697133},{"longitude": 113.913465, "latitude": 22.554257},{"longitude": 113.860572, "latitude": 22.594494},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 114.033514, "latitude": 22.734023},{"longitude": 114.060773, "latitude": 22.619861},{"longitude": 113.920088, "latitude": 22.58336},{"longitude": 113.902878, "latitude": 22.784829},{"longitude": 113.8382, "latitude": 22.701857},{"longitude": 113.912089, "latitude": 22.554223},{"longitude": 114.114882, "latitude": 22.568596},{"longitude": 114.055829, "latitude": 22.557066},{"longitude": 113.913848, "latitude": 22.551944},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.888474, "latitude": 22.59661},{"longitude": 113.878999, "latitude": 22.773288},{"longitude": 114.111461, "latitude": 22.564797},{"longitude": 114.063544, "latitude": 22.571},{"longitude": 114.116644, "latitude": 22.583705},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 113.948696, "latitude": 22.506773},{"longitude": 114.022295, "latitude": 22.538497},{"longitude": 113.989359, "latitude": 22.593252},{"longitude": 114.116517, "latitude": 22.58381},{"longitude": 114.026989, "latitude": 22.533684},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 114.055173, "latitude": 22.646896},{"longitude": 113.842625, "latitude": 22.717296},{"longitude": 114.149543, "latitude": 22.552739},{"longitude": 114.041364, "latitude": 22.557452},{"longitude": 114.347696, "latitude": 22.657462},{"longitude": 114.239892, "latitude": 22.740354},{"longitude": 113.978406, "latitude": 22.572272},{"longitude": 114.278949, "latitude": 22.747433},{"longitude": 114.250691, "latitude": 22.738416},{"longitude": 113.916086, "latitude": 22.552225},{"longitude": 113.895762, "latitude": 22.514199},{"longitude": 114.230203, "latitude": 22.673833},{"longitude": 114.038535, "latitude": 22.546313},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 113.850026, "latitude": 22.631985},{"longitude": 114.308304, "latitude": 22.724378},{"longitude": 114.037457, "latitude": 22.546139},{"longitude": 114.041031, "latitude": 22.565792},{"longitude": 113.913568, "latitude": 22.481936},{"longitude": 114.036754, "latitude": 22.546382},{"longitude": 114.036431, "latitude": 22.543702},{"longitude": 114.146646, "latitude": 22.548835},{"longitude": 113.945517, "latitude": 22.546181},{"longitude": 114.019529, "latitude": 22.538887},{"longitude": 114.25682, "latitude": 22.573825},{"longitude": 113.904105, "latitude": 22.572107},{"longitude": 113.902112, "latitude": 22.573829},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 114.059645, "latitude": 22.62414},{"longitude": 113.942216, "latitude": 22.532583},{"longitude": 114.109099, "latitude": 22.573595},{"longitude": 114.227477, "latitude": 22.668474},{"longitude": 114.27583, "latitude": 22.720747},{"longitude": 114.247767, "latitude": 22.736134},{"longitude": 114.22844, "latitude": 22.674512},{"longitude": 113.979391, "latitude": 22.567277},{"longitude": 114.019529, "latitude": 22.538887},{"longitude": 114.036273, "latitude": 22.547971},{"longitude": 114.036484, "latitude": 22.547987},{"longitude": 114.111324, "latitude": 22.542197},{"longitude": 114.019529, "latitude": 22.538887},{"longitude": 114.019529, "latitude": 22.538887},{"longitude": 114.036554, "latitude": 22.54608},{"longitude": 114.070738, "latitude": 22.647702},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 114.227839, "latitude": 22.673071},{"longitude": 114.035721, "latitude": 22.545074},{"longitude": 114.036771, "latitude": 22.546353},{"longitude": 113.831626, "latitude": 22.755788},{"longitude": 114.077225, "latitude": 22.573646},{"longitude": 114.062282, "latitude": 22.58313},{"longitude": 114.144351, "latitude": 22.63347},{"longitude": 113.836708, "latitude": 22.702648},{"longitude": 114.039752, "latitude": 22.6766},{"longitude": 114.017687, "latitude": 22.646258},{"longitude": 113.94005, "latitude": 22.550145},{"longitude": 114.117852, "latitude": 22.585443},{"longitude": 114.045993, "latitude": 22.676845},{"longitude": 113.873264, "latitude": 22.605125},{"longitude": 113.860576, "latitude": 22.623828},{"longitude": 113.855341, "latitude": 22.631489},{"longitude": 114.117225, "latitude": 22.582496},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.8977, "latitude": 22.579015},{"longitude": 113.831292, "latitude": 22.733356},{"longitude": 113.904464, "latitude": 22.571448},{"longitude": 113.913465, "latitude": 22.554257},{"longitude": 114.099707, "latitude": 22.707589},{"longitude": 113.887918, "latitude": 22.595018},{"longitude": 113.876946, "latitude": 22.522068},{"longitude": 113.851503, "latitude": 22.736757},{"longitude": 114.052023, "latitude": 22.518377},{"longitude": 113.882787, "latitude": 22.590028},{"longitude": 113.933403, "latitude": 22.546486},{"longitude": 114.225114, "latitude": 22.731552},{"longitude": 114.055136, "latitude": 22.641267},{"longitude": 114.11775, "latitude": 22.587847},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.914022, "latitude": 22.536853},{"longitude": 114.036273, "latitude": 22.54797},{"longitude": 113.925284, "latitude": 22.542046},{"longitude": 114.072263, "latitude": 22.574455},{"longitude": 113.8476, "latitude": 22.71174},{"longitude": 114.028003, "latitude": 22.652004},{"longitude": 113.840645, "latitude": 22.745119},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.913465, "latitude": 22.554257},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.861884, "latitude": 22.621885},{"longitude": 113.855986, "latitude": 22.749859},{"longitude": 113.887782, "latitude": 22.598535},{"longitude": 113.856352, "latitude": 22.750214},{"longitude": 113.88092, "latitude": 22.604276},{"longitude": 114.232902, "latitude": 22.680229},{"longitude": 114.229323, "latitude": 22.673397},{"longitude": 114.235114, "latitude": 22.705733},{"longitude": 114.082695, "latitude": 22.719317},{"longitude": 114.2518, "latitude": 22.71371},{"longitude": 114.376811, "latitude": 22.688908},{"longitude": 114.238155, "latitude": 22.679554},{"longitude": 114.257901, "latitude": 22.628942},{"longitude": 114.221723, "latitude": 22.726176},{"longitude": 114.232355, "latitude": 22.70809},{"longitude": 114.064166, "latitude": 22.58354},{"longitude": 114.236761, "latitude": 22.680605},{"longitude": 114.351511, "latitude": 22.683141},{"longitude": 114.250691, "latitude": 22.738416},{"longitude": 114.046731, "latitude": 22.670733},{"longitude": 114.006922, "latitude": 22.668499},{"longitude": 114.123147, "latitude": 22.61174},{"longitude": 114.086341, "latitude": 22.628925},{"longitude": 114.024808, "latitude": 22.646507},{"longitude": 114.093712, "latitude": 22.701892},{"longitude": 114.023756, "latitude": 22.646124},{"longitude": 114.23474, "latitude": 22.681539},{"longitude": 113.975192, "latitude": 22.573289},{"longitude": 114.130652, "latitude": 22.605675},{"longitude": 114.065481, "latitude": 22.622409},{"longitude": 114.351395, "latitude": 22.684304},{"longitude": 113.833161, "latitude": 22.663003},{"longitude": 113.861188, "latitude": 22.621861},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.827366, "latitude": 22.758306},{"longitude": 114.06172, "latitude": 22.622358},{"longitude": 114.271647, "latitude": 22.727032},{"longitude": 114.058243, "latitude": 22.637936},{"longitude": 114.036273, "latitude": 22.54797},{"longitude": 114.058217, "latitude": 22.636007},{"longitude": 114.018294, "latitude": 22.656503},{"longitude": 114.041721, "latitude": 22.547446},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 114.231333, "latitude": 22.708615},{"longitude": 114.231569, "latitude": 22.673202},{"longitude": 113.942209, "latitude": 22.53264},{"longitude": 114.062032, "latitude": 22.583171},{"longitude": 114.132955, "latitude": 22.667178},{"longitude": 114.154318, "latitude": 22.552619},{"longitude": 114.092245, "latitude": 22.577472},{"longitude": 114.058243, "latitude": 22.637936},{"longitude": 113.874408, "latitude": 22.609347},{"longitude": 113.831096, "latitude": 22.677661},{"longitude": 114.086234, "latitude": 22.715278},{"longitude": 113.901841, "latitude": 22.58758},{"longitude": 114.037728, "latitude": 22.547094},{"longitude": 114.063289, "latitude": 22.582921},{"longitude": 114.036273, "latitude": 22.54797},{"longitude": 114.033514, "latitude": 22.734023},{"longitude": 113.840569, "latitude": 22.707109},{"longitude": 114.035361, "latitude": 22.5652},{"longitude": 114.113456, "latitude": 22.540071},{"longitude": 113.910426, "latitude": 22.742338},{"longitude": 114.040076, "latitude": 22.546933},{"longitude": 113.8399, "latitude": 22.704781},{"longitude": 113.870377, "latitude": 22.785377},{"longitude": 114.028307, "latitude": 22.728496},{"longitude": 113.838575, "latitude": 22.715388},{"longitude": 113.8378, "latitude": 22.674917},{"longitude": 114.246762, "latitude": 22.736315},{"longitude": 114.297455, "latitude": 22.71746},{"longitude": 114.11034, "latitude": 22.571078},{"longitude": 114.379582, "latitude": 22.693806},{"longitude": 114.293566, "latitude": 22.714208},{"longitude": 114.037276, "latitude": 22.546742},{"longitude": 114.14228, "latitude": 22.583995},{"longitude": 114.231859, "latitude": 22.673405},{"longitude": 114.118668, "latitude": 22.576516},{"longitude": 113.838575, "latitude": 22.715388},{"longitude": 114.116606, "latitude": 22.582591},{"longitude": 114.153235, "latitude": 22.557714},{"longitude": 114.038027, "latitude": 22.548298},{"longitude": 113.844658, "latitude": 22.589134},{"longitude": 113.839649, "latitude": 22.702894},{"longitude": 113.860517, "latitude": 22.567431},{"longitude": 113.876946, "latitude": 22.522068},{"longitude": 114.254675, "latitude": 22.706885},{"longitude": 114.23109, "latitude": 22.672835},{"longitude": 114.114896, "latitude": 22.636291},{"longitude": 113.887507, "latitude": 22.598654},{"longitude": 113.9969, "latitude": 22.7387},{"longitude": 114.14806, "latitude": 22.550977},{"longitude": 113.84449, "latitude": 22.717945},{"longitude": 113.918696, "latitude": 22.784237},{"longitude": 113.855166, "latitude": 22.761314},{"longitude": 114.048728, "latitude": 22.70704},{"longitude": 113.860568, "latitude": 22.594246},{"longitude": 113.913848, "latitude": 22.551944},{"longitude": 114.033514, "latitude": 22.734023},{"longitude": 114.033514, "latitude": 22.734023},{"longitude": 114.147406, "latitude": 22.549162},{"longitude": 113.818552, "latitude": 22.723566},{"longitude": 113.919415, "latitude": 22.5718},{"longitude": 113.9234, "latitude": 22.517278},{"longitude": 113.849623, "latitude": 22.637682},{"longitude": 114.248235, "latitude": 22.700464},{"longitude": 114.255352, "latitude": 22.708854},{"longitude": 113.969672, "latitude": 22.591251},{"longitude": 113.895221, "latitude": 22.514634},{"longitude": 114.071795, "latitude": 22.615353},{"longitude": 114.116058, "latitude": 22.584496},{"longitude": 114.228247, "latitude": 22.674195},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 113.944132, "latitude": 22.51051},{"longitude": 113.913568, "latitude": 22.481936},{"longitude": 113.913568, "latitude": 22.481936},{"longitude": 114.11668, "latitude": 22.574255},{"longitude": 113.825705, "latitude": 22.673434},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 114.250806, "latitude": 22.73699},{"longitude": 114.012849, "latitude": 22.749925},{"longitude": 114.228136, "latitude": 22.673607},{"longitude": 114.145115, "latitude": 22.546338},{"longitude": 114.275053, "latitude": 22.748656},{"longitude": 114.072326, "latitude": 22.522917},{"longitude": 113.913568, "latitude": 22.481936},{"longitude": 113.826594, "latitude": 22.749518},{"longitude": 113.874126, "latitude": 22.565637},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 113.842625, "latitude": 22.717296},{"longitude": 113.896703, "latitude": 22.515242},{"longitude": 113.861188, "latitude": 22.621861},{"longitude": 114.117038, "latitude": 22.584111},{"longitude": 114.02226, "latitude": 22.538736},{"longitude": 114.276893, "latitude": 22.710541},{"longitude": 114.148084, "latitude": 22.551099},{"longitude": 113.855341, "latitude": 22.631489},{"longitude": 114.110174, "latitude": 22.565838},{"longitude": 114.373433, "latitude": 22.749889},{"longitude": 114.233459, "latitude": 22.682462},{"longitude": 113.905945, "latitude": 22.515577},{"longitude": 113.84496, "latitude": 22.761029},{"longitude": 114.132101, "latitude": 22.610661},{"longitude": 114.118699, "latitude": 22.586466},{"longitude": 113.873506, "latitude": 22.601834},{"longitude": 114.117195, "latitude": 22.584124},{"longitude": 114.06172, "latitude": 22.622358},{"longitude": 114.111324, "latitude": 22.542197},{"longitude": 114.252137, "latitude": 22.741006},{"longitude": 114.042732, "latitude": 22.566121},{"longitude": 113.921104, "latitude": 22.588893},{"longitude": 113.806836, "latitude": 22.733452},{"longitude": 114.123142, "latitude": 22.591221},{"longitude": 114.044229, "latitude": 22.680818},{"longitude": 114.228088, "latitude": 22.673811},{"longitude": 114.036435, "latitude": 22.543928},{"longitude": 113.916086, "latitude": 22.552225},{"longitude": 114.238155, "latitude": 22.679554},{"longitude": 113.917557, "latitude": 22.580814},{"longitude": 114.007336, "latitude": 22.668248},{"longitude": 114.039752, "latitude": 22.6766},{"longitude": 113.967032, "latitude": 22.586341},{"longitude": 114.046539, "latitude": 22.675448},{"longitude": 113.854617, "latitude": 22.628477},{"longitude": 113.845368, "latitude": 22.730517},{"longitude": 113.841109, "latitude": 22.713132},{"longitude": 113.912553, "latitude": 22.55418},{"longitude": 114.030972, "latitude": 22.649811},{"longitude": 113.855341, "latitude": 22.631489},{"longitude": 113.861188, "latitude": 22.621861},{"longitude": 114.046828, "latitude": 22.699677},{"longitude": 114.111618, "latitude": 22.56583},{"longitude": 114.020116, "latitude": 22.652342},{"longitude": 114.07693, "latitude": 22.545048},{"longitude": 114.116925, "latitude": 22.582434},{"longitude": 114.269361, "latitude": 22.748434},{"longitude": 114.238155, "latitude": 22.679554},{"longitude": 114.276122, "latitude": 22.709648},{"longitude": 113.3795, "latitude": 23.01868},{"longitude": 114.124307, "latitude": 22.715417},{"longitude": 114.24949, "latitude": 22.736353},{"longitude": 114.145192, "latitude": 22.715733},{"longitude": 114.067229, "latitude": 22.619208},{"longitude": 114.229286, "latitude": 22.674101},{"longitude": 113.834487, "latitude": 22.761421},{"longitude": 114.049992, "latitude": 22.609543},{"longitude": 114.042834, "latitude": 22.683531},{"longitude": 113.871192, "latitude": 22.604625},{"longitude": 114.010883, "latitude": 22.661406},{"longitude": 114.047391, "latitude": 22.697133},{"longitude": 114.151481, "latitude": 22.699849},{"longitude": 113.921883, "latitude": 22.492635},{"longitude": 114.055094, "latitude": 22.73532},{"longitude": 114.229323, "latitude": 22.673397},{"longitude": 114.229066, "latitude": 22.672462},{"longitude": 114.118292, "latitude": 22.690116},{"longitude": 114.227477, "latitude": 22.668474},{"longitude": 114.01345, "latitude": 22.617996},{"longitude": 113.831292, "latitude": 22.733356},{"longitude": 113.878788, "latitude": 22.780846},{"longitude": 113.846113, "latitude": 22.724336},{"longitude": 113.839596, "latitude": 22.701471},{"longitude": 113.847857, "latitude": 22.76768},{"longitude": 113.839491, "latitude": 22.702345},{"longitude": 114.038236, "latitude": 22.566109},{"longitude": 114.06172, "latitude": 22.622358},{"longitude": 114.002568, "latitude": 22.668853},{"longitude": 113.852754, "latitude": 22.628879},{"longitude": 114.150214, "latitude": 22.552783},{"longitude": 113.834574, "latitude": 22.726872},{"longitude": 114.11809, "latitude": 22.58654},{"longitude": 114.062159, "latitude": 22.583382},{"longitude": 113.81944, "latitude": 22.717328},{"longitude": 113.920088, "latitude": 22.58336},{"longitude": 114.032326, "latitude": 22.733209},{"longitude": 113.887507, "latitude": 22.598654},{"longitude": 113.833161, "latitude": 22.663003},{"longitude": 113.83462, "latitude": 22.683818},{"longitude": 114.07773, "latitude": 22.550736},{"longitude": 114.08117, "latitude": 22.650039},{"longitude": 113.869599, "latitude": 22.784364},{"longitude": 113.914075, "latitude": 22.538525},{"longitude": 113.855063, "latitude": 22.596281},{"longitude": 113.914695, "latitude": 22.530688},{"longitude": 113.913261, "latitude": 22.553941},{"longitude": 113.867685, "latitude": 22.613992},{"longitude": 114.045775, "latitude": 22.731594},{"longitude": 113.860789, "latitude": 22.568156},{"longitude": 114.046417, "latitude": 22.546417},{"longitude": 114.117214, "latitude": 22.581686},{"longitude": 113.914045, "latitude": 22.54723},{"longitude": 114.130623, "latitude": 22.600358},{"longitude": 113.876638, "latitude": 22.585621},{"longitude": 114.254144, "latitude": 22.706198},{"longitude": 114.022944, "latitude": 22.657877}
            ];

            let points = mydata.map(val => ({
                lng: val.longitude,
                lat: val.latitude,
                count: 100,
            }));

            /**
             * 使用 Heatmap 热力图插件
             */
            let heatmapOverlay = new BMapLib.HeatmapOverlay({ "radius": 20 });
            this.mountBaiduMap.addOverlay(heatmapOverlay);
            heatmapOverlay.setDataSet({data:points,max: 100});
            heatmapOverlay.show();
        },
    }
}

</script>

<style scoped lang="less">
@black1: #303133;
@black2: #606266;
@black3: #909399;
@black4: #C0C4CC;

.baidumap {
    position: relative;
    font-size: 14px;
    width: 100%;
    height: 100%;
}

</style>
